# Astro Bot

Учебный Telegram-бот по астрологии. Бот приветствует на `/start`, показывает `/help`, отвечает на `/ask` через OpenAI, собирает данные рождения через `/natal`, повторяет текстовые сообщения и сохраняет пользователей и историю запросов в локальную SQLite-базу.

## Требования
- Python 3.10+

## Быстрый старт
1. Создайте и активируйте виртуальное окружение (macOS):
   ```bash
   python3 -m venv .venv
   source .venv/bin/activate
   ```
2. Установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Скопируйте `.env.example` в `.env` и заполните токены (файл подхватывается автоматически):
   ```bash
   cp .env.example .env
   # откройте .env и впишите TELEGRAM_BOT_TOKEN и OPENAI_API_KEY
   ```
4. Запустите бота:
   ```bash
   python -m astro_bot.bot
   ```
По умолчанию база создаётся в `astro_bot.db` в корне проекта (путь можно переопределить через `ASTRO_BOT_DB_PATH`). Логирование настраивается переменной `ASTRO_BOT_LOG_LEVEL` (по умолчанию INFO).

Бот отправит приветствие на команду `/start`, запишет пользователя в БД, покажет список команд `/help`, будет повторять текстовые сообщения, отвечать на вопросы через `/ask`, собирать данные рождения через `/natal` и сохранять историю в таблицу `requests`. Команда `/history` покажет последние запросы (можно указать число: `/history 5`).
